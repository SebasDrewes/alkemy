{"version":3,"sources":["utils/SetupAlert.js","../node_modules/@material-ui/icons/Search.js","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/Edit.js","../node_modules/@material-ui/icons/Delete.js","app/slides/slidesSelector.js","components/BackofficeSlides/BackofficeSlides.js"],"names":["SweetAlert","type","text","Alert","title","Swal","fire","icon","confirmButtonText","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","selectAllSlides","state","slides","useStyles","makeStyles","wrapper","display","boxShadow","width","margin","padding","borderRadius","position","input","SearchIcon","justifyContent","alignItems","BackofficeSlides","setElement","loading","useSelector","status","classes","useState","formInput","setFormInput","toggleShowAllSlides","setToggleShowAllSlides","filteredSlides","setFilteredSlides","slidesData","page","setPage","rowsPerPage","setRowsPerPage","dispatch","useDispatch","history","useHistory","useSpinner","set","remove","loader","showedSlides","useEffect","length","slidesAPI","Get","then","res","data","getSlides","smallScreenWidth","window","innerWidth","Box","sx","Typography","variant","className","InputBase","placeholder","onChange","e","target","inputProps","Button","onClick","push","style","backgroundColor","color","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","slice","map","row","name","src","image","alt","height","order","size","handleEdit","id","deleteSlide","TablePagination","rowsPerPageOptions","count","onPageChange","event","newPage","onRowsPerPageChange"],"mappings":"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","file":"static/js/29.66786a94.chunk.js","sourcesContent":["import Swal from \"sweetalert2\";\n\nexport const SweetAlert = (type, text) => {\n  switch (type) {\n    case \"success\":\n      Alert(\"Confirmación\", text || \"¡Se ha realizado con Éxito!\");\n      break;\n    case \"error\":\n      Alert(\"Error\", text || \"¡Ocurrió un Error!\");\n      break;\n    case \"info\":\n      Alert(\"Información\", text || \"Información genérica\");\n      break;\n\n    default:\n      break;\n  }\n  function Alert(title, text) {\n    Swal.fire({\n      title,\n      text,\n      icon: type,\n      confirmButtonText: \"OK\",\n    });\n  }\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","export const selectAllSlides = (state) => state.slides.slides;\n\nexport const selectSlidesById = (state, id) =>\n  state.slides.slides.find((slides) => slides.id === id);\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Box from \"@material-ui/core/Box\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { InputBase } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSlides, deleteSlide } from \"../../app/slides/slidesAsyncActions\";\nimport { slidesAPI } from \"../../api/methods\";\nimport { selectAllSlides } from \"../../app/slides/slidesSelector\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { useSpinner } from \"../../hooks/useSetupSpinner\";\nimport { SweetAlert } from \"../../utils/SetupAlert\";\nconst useStyles = makeStyles({\n  wrapper: {\n    display: \"flex\",\n    boxShadow: \"0px 0px 3px #aaa\",\n    width: \"60%\",\n    margin: \"40px auto\",\n    padding: \"7px\",\n    borderRadius: \"5px\",\n    position: \"relative\",\n  },\n  input: {\n    width: \"90%\",\n  },\n  SearchIcon: {\n    width: \"10%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n\nconst BackofficeSlides = ({ setElement }) => {\n  const loading = useSelector((state) => state.slides.status);\n  const classes = useStyles();\n  const [formInput, setFormInput] = useState(\"\");\n  // \"toggleNewsAll\" works as a flag to get all the news only once\n  const [toggleShowAllSlides, setToggleShowAllSlides] = useState(false);\n  const [filteredSlides, setFilteredSlides] = useState(null);\n  const slidesData = useSelector(selectAllSlides);\n  // data for table pagination\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { state, set, remove, loader } = useSpinner();\n\n  const showedSlides = filteredSlides ? filteredSlides : slidesData;\n\n  useEffect(() => {\n    if (formInput.length >= 3) {\n      set();\n      slidesAPI.Get(`slides?search=${formInput}`).then((res) => {\n        setFilteredSlides(res.data.data);\n        setToggleShowAllSlides(false);\n        remove();\n      });\n    } else {\n      if (!toggleShowAllSlides) {\n        set();\n        dispatch(getSlides());\n        setFilteredSlides(null);\n        setToggleShowAllSlides(true);\n        remove();\n      }\n    }\n  }, [formInput]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n  // mediaquery\n  const smallScreenWidth = window.innerWidth <= 650;\n\n  const handleDelete = (id) => {\n    dispatch(deleteSlide(id));\n  };\n  const handleEdit = (row) => {\n    setElement(row);\n    history.push(\"/backoffice/slides/edit\");\n  };\n\n  return (\n    <div>\n      <Box\n        sx={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <Typography variant=\"h2\">Slides</Typography>\n\n        <div className={classes.wrapper}>\n          <InputBase\n            placeholder=\"Buscar Slide\"\n            onChange={(e) => setFormInput(e.target.value)}\n            inputProps={{ \"aria-label\": \"search\" }}\n            className={classes.input}\n          />\n          <div className={classes.SearchIcon}>\n            <SearchIcon />\n          </div>\n        </div>\n\n        <Button\n          variant=\"contained\"\n          onClick={() => history.push(\"/backoffice/slides/create\")}\n          style={{\n            backgroundColor: \"#9AC9FB\",\n            color: \"#fafafa\",\n          }}\n        >\n          <AddIcon /> Crear\n        </Button>\n      </Box>\n\n      {loading === \"loading\" ? (\n        loader\n      ) : (\n        <TableContainer component={Paper}>\n          <Table aria-label=\"slides table\">\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">Titulo</TableCell>\n                <TableCell align=\"center\">Imagen</TableCell>\n                <TableCell align=\"center\">Orden</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {showedSlides\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row) => (\n                  <TableRow key={row.name}>\n                    <TableCell align=\"center\">{row.name}</TableCell>\n                    <TableCell align=\"center\">\n                      <img\n                        src={row.image}\n                        alt={row.name}\n                        style={{\n                          width: smallScreenWidth ? \"60px\" : \"180px\",\n                          height: smallScreenWidth ? \"50px\" : \"80px\",\n                          borderRadius: \"20px\",\n                        }}\n                      />\n                    </TableCell>\n                    <TableCell align=\"center\">{row.order}</TableCell>\n                    <TableCell align=\"right\">\n                      <Button\n                        variant=\"contained\"\n                        size={smallScreenWidth ? \"small\" : \"medium\"}\n                        onClick={() => handleEdit(row)}\n                        style={{\n                          backgroundColor: \"#59C371\",\n                          margin: \"7px\",\n                          color: \"#fafafa\",\n                        }}\n                      >\n                        <EditIcon /> {smallScreenWidth ? \"\" : \"Editar\"}\n                      </Button>\n                      <Button\n                        variant=\"contained\"\n                        size={smallScreenWidth ? \"small\" : \"medium\"}\n                        onClick={() => handleDelete(row.id)}\n                        style={{\n                          backgroundColor: \"#DB5752\",\n                          margin: \"7px\",\n                          color: \"#fafafa\",\n                        }}\n                      >\n                        <DeleteIcon /> {smallScreenWidth ? \"\" : \"Eliminar\"}\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      )}\n      <TablePagination\n        component=\"div\"\n        rowsPerPageOptions={[]}\n        count={slidesData.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </div>\n  );\n};\nexport default BackofficeSlides;\n"],"sourceRoot":""}